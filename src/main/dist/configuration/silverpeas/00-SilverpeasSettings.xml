<?xml version="1.0" encoding="UTF-8"?>
<silverpeas-settings product="Silverpeas">

  <!-- PROPERTIES CONFIGURATION -->
  <fileset root="${SILVERPEAS_HOME}/properties/org/silverpeas/">
    <configfile name="util/jcr.properties">
      <parameter key="jcr.configuration.persistence.manager">${JACKRABBIT_PERSISTENCE_MANAGER}</parameter>
      <parameter key="jcr.home.dir.url">file:///${SILVERPEAS_HOME}/jcr</parameter>
      <parameter key="schema">${DB_SCHEMA}</parameter>
    </configfile>

    <configfile name="systemSettings.properties">
      <parameter key="http.proxyHost">${PROXY_HOST}</parameter>
      <parameter key="http.proxyPort">${PROXY_PORT}</parameter>
      <parameter key="http.nonProxyHosts">${NONPROXY_HOST}</parameter>
      <parameter key="ftp.proxyHost">${PROXY_HOST}</parameter>
      <parameter key="ftp.proxyPort">${PROXY_PORT}</parameter>
      <parameter key="ftp.nonProxyHosts">${NONPROXY_HOST}</parameter>
    </configfile>

    <configfile name="general.properties">
      <parameter key="ApplicationURL">/silverpeas</parameter>
      <parameter key="uploadsPath">${SILVERPEAS_DATA_HOME}/workspaces</parameter>
      <parameter key="uploadsIndexPath">${SILVERPEAS_DATA_HOME}/index</parameter>
      <parameter key="tempPath">${SILVERPEAS_TEMP}</parameter>
      <parameter key="exportTemplatePath">${SILVERPEAS_DATA_HOME}/template-export</parameter>
      <parameter key="securityPath">${HIDDEN_SILVERPEAS_DIR}</parameter>
    </configfile>

    <configfile name="beans/admin/admin.properties">
      <parameter key="AdminDBDriver">${DB_DRIVER}</parameter>
      <parameter key="WaProductionDb">${DB_URL}</parameter>
      <parameter key="WaProductionUser">${DB_USER}</parameter>
      <parameter key="WaProductionPswd">${DB_PASSWORD}</parameter>
      <parameter key="WaAdminDb">${DB_URL}</parameter>
      <parameter key="WaAdminUser">${DB_USER}</parameter>
      <parameter key="WaAdminPswd">${DB_PASSWORD}</parameter>
      <parameter key="AdministratorLogin">${SILVERPEAS_ADMIN_LOGIN}</parameter>
      <parameter key="AdministratorPassword">${SILVERPEAS_ADMIN_PASSWORD}</parameter>
      <parameter key="AdministratorEMail">${SILVERPEAS_ADMIN_EMAIL}</parameter>
      <parameter key="EntrepriseClientSpaceId">1</parameter>
      <parameter key="xmlSpaceTemplate">${SILVERPEAS_HOME}/xmlspacetemplates</parameter>
    </configfile>

    <configfile name="beans/admin/instance/control/instanciator.properties">
      <parameter key="xmlPackage">${SILVERPEAS_HOME}/xmlcomponents</parameter>
    </configfile>

    <configfile name="kmelia/settings/kmeliaSettings.properties">
      <parameter key="templatePath">
        ${SILVERPEAS_HOME}/resources/StringTemplates/components/kmelia/
      </parameter>
      <parameter key="customersTemplatePath">
        ${SILVERPEAS_DATA_HOME}/StringTemplates/components/kmelia/
      </parameter>
    </configfile>

    <configfile name="survey/surveySettings.properties">
      <parameter key="templatePath">
        ${SILVERPEAS_HOME}/resources/StringTemplates/components/survey/
      </parameter>
      <parameter key="customersTemplatePath">
        ${SILVERPEAS_DATA_HOME}/StringTemplates/components/survey/
      </parameter>
    </configfile>

    <configfile name="almanach/settings/almanachSettings.properties">
      <parameter key="templatePath">
        ${SILVERPEAS_HOME}/resources/StringTemplates/components/almanach/
      </parameter>
      <parameter key="customersTemplatePath">
        ${SILVERPEAS_DATA_HOME}/StringTemplates/components/almanach/
      </parameter>
    </configfile>

    <configfile name="domains/domainSP.properties">
      <parameter key="database.SQLJDBCUrl">${DB_URL}</parameter>
      <parameter key="database.SQLAccessLogin">${DB_USER}</parameter>
      <parameter key="database.SQLAccessPasswd">${DB_PASSWORD}</parameter>
    </configfile>

    <configfile name="domains/domainSQL.properties">
      <parameter key="database.SQLJDBCUrl">${DB_URL}</parameter>
      <parameter key="database.SQLAccessLogin">${DB_USER}</parameter>
      <parameter key="database.SQLAccessPasswd">${DB_PASSWORD}</parameter>
    </configfile>

    <configfile name="domains/domainMSAD.properties">
      <parameter key="database.LDAPHost">${LDAP_SERVER}</parameter>
      <parameter key="database.LDAPPort">${LDAP_PORT}</parameter>
    </configfile>

    <configfile name="domains/domainOpenDJ.properties">
      <parameter key="database.LDAPHost">${LDAP_SERVER}</parameter>
      <parameter key="database.LDAPPort">${LDAP_PORT}</parameter>
    </configfile>

    <configfile name="authentication/domains.properties">
      <parameter key="SQLDomainJDBCUrl">${DB_URL}</parameter>
      <parameter key="SQLDomainAccessLogin">${DB_USER}</parameter>
      <parameter key="SQLDomainAccessPasswd">${DB_PASSWORD}</parameter>
      <parameter key="SQLDomainDriverClass">${DB_DRIVER}</parameter>
    </configfile>

    <configfile name="authentication/autDomainSP.properties">
      <parameter key="fallbackType">${FALLBACK_TYPE}</parameter>
      <parameter key="autServer1.SQLJDBCUrl">${DB_URL}</parameter>
      <parameter key="autServer1.SQLAccessLogin">${DB_USER}</parameter>
      <parameter key="autServer1.SQLAccessPasswd">${DB_PASSWORD}</parameter>
      <parameter key="autServer1.SQLDriverClass">${DB_DRIVER}</parameter>
    </configfile>

    <configfile name="authentication/autDomainSQL.properties">
      <parameter key="fallbackType">${FALLBACK_TYPE}</parameter>
      <parameter key="autServer0.SQLJDBCUrl">${DB_URL}</parameter>
      <parameter key="autServer0.SQLAccessLogin">${DB_USER}</parameter>
      <parameter key="autServer0.SQLAccessPasswd">${DB_PASSWORD}</parameter>
      <parameter key="autServer0.SQLDriverClass">${DB_DRIVER}</parameter>
    </configfile>

    <configfile name="authentication/autDomainLDAP.properties">
      <parameter key="fallbackType">${FALLBACK_TYPE}</parameter>
      <parameter key="autServer0.LDAPHost">${LDAP_SERVER}</parameter>
      <parameter key="autServer0.LDAPPort">${LDAP_PORT}</parameter>
    </configfile>

    <configfile name="authentication/autDomainMSAD.properties">
      <parameter key="fallbackType">${FALLBACK_TYPE}</parameter>
      <parameter key="autServer0.LDAPHost">${LDAP_SERVER}</parameter>
      <parameter key="autServer0.LDAPPort">${LDAP_PORT}</parameter>
    </configfile>

    <configfile name="authentication/autDomainOpenDJ.properties">
      <parameter key="fallbackType">${FALLBACK_TYPE}</parameter>
      <parameter key="autServer0.LDAPHost">${LDAP_SERVER}</parameter>
      <parameter key="autServer0.LDAPPort">${LDAP_PORT}</parameter>
    </configfile>

    <configfile name="notificationserver/channel/smtp/smtpSettings.properties">
      <parameter key="SMTPServer">${SMTP_SERVER}</parameter>
      <parameter key="SMTPAuthentication">${SMTP_AUTHENTICATION}</parameter>
      <parameter key="SMTPDebug">${SMTP_DEBUG}</parameter>
      <parameter key="SMTPPort">${SMTP_PORT}</parameter>
      <parameter key="SMTPUser">${SMTP_USER}</parameter>
      <parameter key="SMTPPwd">${SMTP_PASSWORD}</parameter>
      <parameter key="SMTPSecure">${SMTP_SECURE}</parameter>
    </configfile>

    <configfile name="silvertrace/settings/silverTrace.properties">
      <parameter key="pathSilverTrace">${SILVERPEAS_HOME}/silvertrace</parameter>
      <parameter key="ErrorDir">${SILVERPEAS_LOG}</parameter>
    </configfile>

    <configfile name="silvertrace/settings/silverLog.properties">
      <parameter key="pathSilverLog">${SILVERPEAS_HOME}/log</parameter>
      <parameter key="LogDir">${SILVERPEAS_HOME}/log</parameter>
      <parameter key="appender0.fileName">${SILVERPEAS_HOME}/log/journal.txt</parameter>
    </configfile>

    <configfile name="_silverpeasinitialize/settings/_silverpeasinitializeSettings.properties">
      <parameter key="pathInitialize">${SILVERPEAS_HOME}/initialize</parameter>
    </configfile>

    <configfile name="util/i18n.properties">
      <parameter key="languages">${SILVERPEAS_CONTENT_LANGUAGES}</parameter>
    </configfile>

    <configfile name="dbBuilder/settings/dbBuilderSettings.properties">
      <parameter key="ADMINLOGIN">${SILVERPEAS_ADMIN_LOGIN}</parameter>
      <parameter key="ADMINPASSWD">${SILVERPEAS_ADMIN_PASSWORD}</parameter>
      <parameter key="URLSERVER">${SERVER_URL}</parameter>
    </configfile>

    <configfile name="silverstatistics/SilverStatistics.properties">
      <parameter key="SilverPeasDataPath0">${SILVERPEAS_DATA_HOME}</parameter>
    </configfile>

    <configfile name="peasCore/SessionManager.properties">
      <parameter key="scheduledSessionManagementTimeStamp">2</parameter>
      <parameter key="userSessionTimeout">10</parameter>
    </configfile>

    <configfile name="infoLetter/settings/infoLetterSettings.properties">
      <parameter key="templatePath">
        ${SILVERPEAS_HOME}/resources/StringTemplates/components/infoLetter/
      </parameter>
      <parameter key="customersTemplatePath">
        ${SILVERPEAS_DATA_HOME}/StringTemplates/components/infoLetter/
      </parameter>
    </configfile>

    <configfile name="importExport/settings/mapping.properties">
      <parameter key="mappingDir">file:///${SILVERPEAS_HOME}/resources/importExport/</parameter>
    </configfile>

    <configfile name="questionReply/settings/questionReplySettings.properties">
      <parameter key="mappingDir">file:///${SILVERPEAS_HOME}/resources/QuestionReply/</parameter>
    </configfile>

    <configfile name="publicationTemplate/settings/template.properties">
      <parameter key="templateDir">${SILVERPEAS_DATA_HOME}/templateRepository/</parameter>
    </configfile>

    <configfile name="whitePages/settings/template.properties">
      <parameter key="templateDir">file:///${SILVERPEAS_DATA_HOME}/templateRepository/</parameter>
    </configfile>

    <configfile name="jobManagerPeas/settings/jobManagerPeasSettings.properties">
      <parameter key="IsKMVisible">true</parameter>
      <parameter key="IsToolsVisible">true</parameter>
    </configfile>

    <configfile name="workflow/engine/castorSettings.properties">
      <parameter key="CastorJDOFastDatabaseFileURL">
        ${SILVERPEAS_HOME}/resources/instanceManager/fast_database.xml
      </parameter>
      <parameter key="CastorJDODatabaseFileURL">
        ${SILVERPEAS_HOME}/resources/instanceManager/database.xml
      </parameter>
      <parameter key="CastorJDOLogFileURL">${SILVERPEAS_LOG}/castor.log</parameter>
      <parameter key="CastorXMLMappingFileURL">
        ${SILVERPEAS_HOME}/resources/modelManager/mapping.xml
      </parameter>
      <parameter key="ProcessModelDir">${SILVERPEAS_DATA_HOME}/workflowRepository/</parameter>
    </configfile>

    <configfile name="workflow/engine/schedulerSettings.properties">
      <parameter key="timeoutSchedule">* 0,4,8,12,16,20 * * *</parameter>
    </configfile>

    <!--
    <configfile name="mailinglist/notification.properties">
      <parameter key="jdbc.driver">${DB_DRIVER}</parameter>
      <parameter key="jdbc.url">${DB_URL}</parameter>
      <parameter key="jdbc.username">${DB_USER}</parameter>
      <parameter key="jdbc.password">${DB_PASSWORD}</parameter>
      <parameter key="hibernate.dialect">${HIBERNATE_DIALECT}</parameter>
    </configfile>
    -->

    <configfile name="mailinglist/settings/mailinglistSettings.properties">
      <parameter key="templatePath">
        ${SILVERPEAS_HOME}/resources/StringTemplates/components/mailingList
      </parameter>
      <parameter key="customersTemplatePath">
        ${SILVERPEAS_DATA_HOME}/resources/StringTemplates/components/mailingList
      </parameter>
    </configfile>

    <configfile name="classifieds/settings/classifiedsSettings.properties">
      <parameter key="customersTemplatePath">
        ${SILVERPEAS_DATA_HOME}/StringTemplates/components/classifieds/
      </parameter>
      <parameter key="templatePath">
        ${SILVERPEAS_HOME}/resources/StringTemplates/components/classifieds/
      </parameter>
    </configfile>

    <configfile name="webpages/settings/webPagesSettings.properties">
      <parameter key="customersTemplatePath">
        ${SILVERPEAS_DATA_HOME}/StringTemplates/components/webpages/
      </parameter>
      <parameter key="templatePath">
        ${SILVERPEAS_HOME}/resources/StringTemplates/components/webpages/
      </parameter>
    </configfile>

    <configfile name="portlets/portletsSettings.properties">
      <parameter key="portlets.configDir">${SILVERPEAS_DATA_HOME}/portlets</parameter>
    </configfile>

    <configfile name="communicationUser/settings/communicationUserSettings.properties">
      <parameter key="pathDiscussions">${SILVERPEAS_DATA_HOME}/imRepository/</parameter>
    </configfile>

    <configfile name="questionReply/settings/questionReplySettings.properties">
      <parameter key="templatePath">
        ${SILVERPEAS_HOME}/resources/StringTemplates/components/question-reply/
      </parameter>
      <parameter key="customersTemplatePath">
        ${SILVERPEAS_DATA_HOME}/StringTemplates/components/question-reply/
      </parameter>
    </configfile>

    <configfile name="whitePages/settings/template.properties">
      <parameter key="templateDir">file:///${SILVERPEAS_DATA_HOME}/templateRepository</parameter>
    </configfile>

    <configfile name="jobDomainPeas/settings/jobDomainPeasSettings.properties">
      <parameter key="templatePath">${SILVERPEAS_HOME}/resources/StringTemplates/</parameter>
      <parameter key="customersTemplatePath">${SILVERPEAS_DATA_HOME}/StringTemplates/</parameter>
    </configfile>

    <configfile name="jobStartPagePeas/settings/jobStartPagePeasSettings.properties">
      <parameter key="templatePath">${SILVERPEAS_HOME}/resources/StringTemplates/admin</parameter>
      <parameter key="customersTemplatePath">${SILVERPEAS_DATA_HOME}/StringTemplates/admin
      </parameter>
    </configfile>

    <configfile name="blog/settings/blogSettings.properties">
      <parameter key="templatePath">${SILVERPEAS_HOME}/resources/StringTemplates/components/blog/
      </parameter>
      <parameter key="customersTemplatePath">
        ${SILVERPEAS_DATA_HOME}/StringTemplates/components/blog/
      </parameter>
    </configfile>

    <configfile name="rssAgregator/settings/rssAgregatorSettings.properties">
      <parameter key="templatePath">
        ${SILVERPEAS_HOME}/resources/StringTemplates/components/rssaggregator/
      </parameter>
      <parameter key="customersTemplatePath">
        ${SILVERPEAS_DATA_HOME}/StringTemplates/components/rssaggregator/
      </parameter>
    </configfile>

    <configfile name="delegatednews/settings/DelegatedNewsSettings.properties">
      <parameter key="templatePath">
        ${SILVERPEAS_HOME}/resources/StringTemplates/components/delegatednews/
      </parameter>
      <parameter key="customersTemplatePath">
        ${SILVERPEAS_DATA_HOME}/StringTemplates/components/delegatednews/
      </parameter>
    </configfile>

    <configfile name="components/scheduleevent/settings/ScheduleEventSettings.properties">
      <parameter key="templatePath">
        ${SILVERPEAS_HOME}/resources/StringTemplates/components/scheduleevent/
      </parameter>
      <parameter key="customersTemplatePath">
        ${SILVERPEAS_DATA_HOME}/StringTemplates/components/scheduleevent/
      </parameter>
    </configfile>

    <configfile name="util/stringtemplate.properties">
      <parameter key="template.dir.core.default">${SILVERPEAS_HOME}/resources/StringTemplates/core
      </parameter>
      <parameter key="template.dir.core.custom">${SILVERPEAS_DATA_HOME}/StringTemplates/core
      </parameter>
      <parameter key="template.dir.components.default">
        ${SILVERPEAS_HOME}/resources/StringTemplates/components
      </parameter>
      <parameter key="template.dir.components.custom">
        ${SILVERPEAS_DATA_HOME}/StringTemplates/components
      </parameter>
    </configfile>

    <configfile name="webSites/settings/webSiteSettings.properties">
      <parameter key="uploadsPath">${SILVERPEAS_DATA_WEB}/website.war/</parameter>
    </configfile>

    <configfile name="importExport/settings/importSettings.properties">
      <parameter key="importRepository">${SILVERPEAS_DATA_HOME}/import/</parameter>
    </configfile>

    <configfile name="util/comment/Comment.properties">
      <parameter key="customersTemplatePath">${SILVERPEAS_DATA_HOME}/StringTemplates/</parameter>
      <parameter key="templatePath">${SILVERPEAS_HOME}/resources/StringTemplates/</parameter>
    </configfile>

  </fileset>

  <!-- workflowEngine settings -->
  <!--
  <fileset root="${SILVERPEAS_HOME}/resources/instanceManager/">
    <textfile name="datasource.xml">
      <parameter key="&lt;!DOCTYPE[^&gt;]*&gt;" use-regex="true"> </parameter>
    </textfile>

    <xmlfile name="datasource.xml">
      <parameter key="/jdo-conf" mode="update">
        <value location="@engine">$eval{{if(new String("${DB_SERVERTYPEU}").equals("MSSQL")) value="sql-server"; else if(new String("${DB_SERVERTYPEU}").equals("POSTGRES")) value="postgresql"; else value="oracle";}}</value>
      </parameter>
      <parameter key="/jdo-conf/datasource" mode="update">
        <value location="@engine">$eval{{if(new String("${DB_SERVERTYPEU}").equals("MSSQL")) value="sql-server"; else if(new String("${DB_SERVERTYPEU}").equals("POSTGRES")) value="postgresql"; else value="oracle";}}</value>
      </parameter>
      <parameter key="/jdo-conf/datasource/mapping" mode="update">
        <value location="@href">file:///${SILVERPEAS_HOME}/resources/instanceManager/mapping.xml</value>
      </parameter>
    </xmlfile>

    <textfile name="fast_database.xml">
      <parameter key="&lt;!DOCTYPE[^&gt;]*&gt;" use-regex="true"> </parameter>
    </textfile>

    <xmlfile name="fast_database.xml">
      <parameter key="/datasource" mode="update">
        <value location="@engine">$eval{{if(new String("${DB_SERVERTYPEU}").equals("MSSQL")) value="sql-server"; else if(new String("${DB_SERVERTYPEU}").equals("POSTGRES")) value="postgresql"; else value="oracle";}}</value>
      </parameter>
      <parameter key="/datasource/mapping" mode="update">
        <value location="@href">file:///${SILVERPEAS_HOME}/resources/instanceManager/fast_mapping.xml</value>
      </parameter>
    </xmlfile>
  </fileset>
-->

  <!-- wiki -->
  <!--
  <fileset root="${SILVERPEAS_HOME}/jar/silverpeas.ear/war-ic.war/WEB-INF/">
    <configfile name="jspwiki.properties">
      <parameter key="jspwiki.workDir">${SILVERPEAS_DATA_HOME}/temp/wiki/indexes</parameter>
      <parameter key="jspwiki.basicAttachmentProvider.storageDir">${SILVERPEAS_DATA_HOME}/temp/wiki/</parameter>
      <parameter key="jspwiki.fileSystemProvider.pageDir">${SILVERPEAS_DATA_HOME}/temp/wiki/pages</parameter>
    </configfile>
  </fileset>
  -->
  <!--
  <script name="createTickers.groovy"/>
  <script name="updateAuthProperties.groovy"/>
  -->

</silverpeas-settings>
